
<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>LR Data Services</title>
    
    <meta name="description" content="Learning Registry Data Services">
    <meta name="author" content="Jim Klo">
    <meta name="viewport" content="width=1024, user-scalable=no">
    
    <!-- Core and extension CSS files -->
    <link rel="stylesheet" href="../includes/deck.js/core/deck.core.css">
    <link rel="stylesheet" href="../includes/deck.js/extensions/goto/deck.goto.css">
    <link rel="stylesheet" href="../includes/deck.js/extensions/menu/deck.menu.css">
    <link rel="stylesheet" href="../includes/deck.js/extensions/navigation/deck.navigation.css">
    <link rel="stylesheet" href="../includes/deck.js/extensions/status/deck.status.css">
    <link rel="stylesheet" href="../includes/deck.js/extensions/hash/deck.hash.css">
    <link rel="stylesheet" href="../includes/deck.js/extensions/codemirror/deck.codemirror.css">

    <!-- Theme CSS files (menu swaps these out) -->
    <link rel="stylesheet" id="style-theme-link" href="../includes/deck.js/themes/style/swiss.css">
    <link rel="stylesheet" id="transition-theme-link" href="../includes/deck.js/themes/transition/horizontal-slide.css">
    

    <!-- Codemirror CSS -->
    <link rel="stylesheet" href="../includes/deck.js/extensions/codemirror/themes/default.css">

    <!-- Custom CSS just for this page -->
    <link rel="stylesheet" href="../includes/css/common.css">
    <link rel="stylesheet" href="dataservice.css">
    
    

    
    <script src="../includes/deck.js/modernizr.custom.js"></script>
</head>


<body class="introduction">


<header>
    <nav>
        <h1><a href="../">LR Data Services</a></h1>
        
        <div class="theme-menu">
            <label for="style-themes">Style Theme:</label>
            <select id="style-themes">
                <option value="../includes/deck.js/themes/style/web-2.0.css">Web 2.0</option>
                <option selected value="../includes/deck.js/themes/style/swiss.css">Swiss</option>
                <option value="../includes/deck.js/themes/style/neon.css">Neon</option>
                <option value="">None</option>
            </select>

            <label for="transition-themes">Transition Theme:</label>
            <select id="transition-themes">
                <option selected value="../includes/deck.js/themes/transition/horizontal-slide.css">Horizontal Slide</option>
                <option value="../includes/deck.js/themes/transition/vertical-slide.css">Vertical Slide</option>
                <option value="../includes/deck.js/themes/transition/fade.css">Fade</option>
                <option value="">None</option>
            </select>
        </div>
        
        <!-- <ul>
            <li>Getting Started</li>
            <li><a href="../docs">Docs</a></li>
            <li><a href="http://github.com/imakewebthings/deck.js">GitHub</a></li>
        </ul> -->
    </nav>
</header>

<article class="deck-container">
    <section class="slide" id="title-slide">
        <h1>Getting Started<br/>with<br/>LR Data Services</h1>
    </section>

    <section class="slide" id="what-was-data-services">
        <h2>What Was Data Services?</h2>
        <div class="subject-noflow">
            <img class="old-ds" src="./old-data-services.png">
        </div>
        <ul class="topic">
            <li>Make it easier to get relevant data.</li>
            <li>Get clean data.</li>
            <ul>
                <li>In depth scrutiny of the LR data.</li>
                <li>I.E. Schemas &amp; Signatures validated, envelopes filtered.</li>
            </ul>
            <li>Mostly external, complementary to a LR Node.</li>
        </ul>
        <div class="footer"></div>
    </section>


    <section class="slide" id="what-are-data-services">
        <h2>What Is LR Data Services Now?</h2>
        <ol>
            <li class="slide">
                <h3>A Way to Get the Data You Want</h3>
                <p>Only interested in one specific kind of data? Data Services aims to provide a way to extract the data that's relevant to you through simple customization.</p>
            </li>
            <li class="slide">
                <h3>It's A Design Pattern, With Some "Batteries Included".</h3>
                <ul>
                    <li>Follow simple conventions to identify <strong>discriminators</strong> within the LR documents</li>
                    <li>Reuse or modify community-sourced libraries to aid in extracting data for your use case</li>
                    <li>Install your data service code into a LR Node's CouchDB</li>
                    <li>Access your custom solution via the <code>extract</code> HTTP service API installed on the node.</li>
           <!--        , you can create a harvest-like service from LR that can leverage a standardized extraction API.</p> -->
                </ul>
            </li>
            <li class="slide">
                <h3>A Path Towards Making LR use Fewer Resources</h3>
                <p>We know LR can potentially hold mountains of data, and has a few data extraction services that utilize loads of storage space. This is a way to extract data in a very focused manner, which will result in substantial storage savings.</p>
            </li>
        </ol>
    </section>

    <section class="slide" id="what-is-a-discriminator">
        <h2>What Is a Discriminator?</h2>
        <p>Discriminators in Data Services are the characteristics of the data that you've identified that you want to capture.
        <ul>
            <li>This allows you to exclude data you do not know how to process or recognize as quality information.</li>
            <li>For example, if you were only interested in ASN urls contained within the &lt;conformsTo&gt; element of XML metadata that uses a Dublin Core Terms schema, the identified ASN url becomes your discriminator.</li></ul></p>
    </section>

    <section class="slide" id="what-can-ds-do">
        <h2>What Can Data Services Do?</h2>
        <p>Following the conventions outlined, you will be able to extract data using:</p>
        <ul>
            <li>Resource Locator by Discriminator</li>
            <li>Resource Locator by start of Discriminator</li>
            <li>Resource Locator by Timestamp</li>
            <li>Discriminator by Resource Locator</li>
            <li>Discriminator by start of Resource Locator</li>
            <li>Discriminator by Timestamp</li>
            <li>Discriminated Resource Locator by Timestamp</li>
            <li>All Discriminated Resources</li>
        </ul>
    </section>


    <section class="slide" id="asn-prototype">
        <h2>The Alignment to Standards Prototype Example</h2>
        <p>The prototype implementation can provide a Data Service that will allow use of the extract service to request resource data and aggregations where ASN's are Discriminators, `resource_locator`'s are Resource resource_locator, and `node_timestamp`'s are Timestamps, which will enable us to get:</p>
        <ul>
            <li>`resource_locator` by ASN</li>
            <li>`resource_locator` by start of ASN</li>
            <li>`resource_locator` by `node_timestamp`</li>
            <li>ASN by `resource_locator`</li>
            <li>ASN by start of `resource_locator`</li>
            <li>ASN by `node_timestamp`</li>
            <li>ASN `resource_locator`s by `node_timestamp`</li>
            <li>All ASN `resource_locator`s</li>
        </ul>
    </section>


    <section class="slide" id="conventions">
        <h2>Conventions</h2>

        <p>To follow the K.I.S.S principle, we're adopting a set of conventions to make adding new data services simple. These conventions are part of a CouchDB design documnent.</p>

        <ul class="topic wide">
            <li class="slide" >A field named <code>dataservice</code> so the extract service can locate the implementation. The field will contain a map that indicates the name and description of the data service. More details for this TBD!</li>
            <li class="slide">Views must follow a specific naming convention.</li>
            <li class="slide">View functions must emit specific keys according to the view they implement.</li>
            <li class="slide">Timestamps must be represented as seconds from epoch.</li>
            <li class="slide">Views must always implement a reduce.</li>
            <li class="slide"><strong>(WIP)</strong> List conventions are expected to be defined for formatting and advanced filtering. More TBD!</li>
        </ul>


        
<code class="subject"><pre>{
    "_id": "_design/standards-alignment",
    <span class="ds">"dataservice": { <span class="ds-val">
        "name": "Standards Alignment Data Service",
        "description": "This is where I would document how this data service works."
    </span>}</span>,
    "views": { <span class="ds-views">
        "discriminator-by-resource": { <span class="json">
            "map": "function (doc) { emit(<span class="key">[doc.resource_locator, getDescriminator(doc)]</span>, null); }",
            <span class="reduce">"reduce": "_count"</span>
        </span>},
        "discriminator-by-resource-ts": { <span class="json">
            "map": "function (doc) { emit(<span class="key">[doc.resource_locator, <span class="ts">getEpochTimestamp(doc)</span>, getDescriminator(doc)]</span>, null); }",
             <span class="reduce">"reduce": "_count"</span>
        </span>},
        "resource-by-discriminator": { <span class="json">
            "map": "function (doc) { emit(<span class="key">[getDescriminator(doc), doc.resource_locator]</span>, null); }",
             <span class="reduce">"reduce": "_count"</span>
        </span>},
        "resource-by-discriminator-ts": {<span class="json">
            "map": "function (doc) { emit(<span class="key">[getDescriminator(doc), <span class="ts">getEpochTimestamp(doc)</span>, doc.resource_locator]</span>, null); }",
             <span class="reduce">"reduce": "_count"</span>
        </span>},
        "resource-by-ts": {<span class="json">
            "map": "function (doc) { emit(<span class="key">[<span class="ts">getEpochTimestamp(doc)</span>, doc.resource_locator]</span>, null); }",
             <span class="reduce">"reduce": "_count"</span>
        </span>},
        "discriminator-by-ts": {<span class="json">
            "map": "function (doc) { emit(<span class="key">[<span class="ts">getEpochTimestamp(doc)</span>, getDescriminator(doc)]</span>, null); }",
             <span class="reduce">"reduce": "_count"</span>
        </span>} 
    </span>},
    <span class="lists">"lists": { ... }</span>
}</pre></code>
        

        <div class="foot"></div>
    </section>


    <section class="slide" id="extract-service">
        <h2>The Extract Service Output</h2>
        <p><strong>(WIP)</strong> Possible output format for the <code>extract</code> service:</p>
        <div>
<div class="code" mode="javascript" style="display: none;">
{
    "documents": [

    {
        "result_data": {
            /* 
                    MapReduce aggregation formatted. 
                    Could be a paradata 'assertion'
            */
        },
        "supplemental_data": {
            /*
                This is the value of the map/reduce?
            */
        },
        "resource_data": [ /* doc ids of full docs */ ]

    }

    ]
}
</div>
        </div>
    </section>



    <section class="slide" id="extract-service-api">
        <h2>The Extract Service HTTP API</h2>
        <p><strong>(WIP)</strong> Using a GET request:</p>
        <div>
            <code>GET /extract/&lt;data service name&gt;/&lt;view name&gt;/[&lt;parameter&gt;/&lt;value&gt;][?&lt;DS Query Params&gt;]</code>
        </div>
    </section>
 <!--    <section class="slide" id="themes">
        <h2></h2>
        <p>Customizes the colors, typography, and layout of slide&nbsp;content.</p>
        <pre><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/path/to/css/style-theme.css&quot;&gt;</code></pre>
        <h2>Transition Themes</h2>
        <p>Defines transitions between slides using CSS3 transitions.  Less capable browsers fall back to cutaways. But <strong>you</strong> aren&rsquo;t using <em>those</em> browsers to give your presentations, are&nbsp;you&hellip;</p>
        <pre><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;/path/to/css/transition-theme.css&quot;&gt;</code></pre>
    </section> -->

<!--     <section class="slide" id="extensions">
        <h2>Extensions</h2>
        <p>Core gives you basic slide functionality with left and right arrow navigation, but you may want more. Here are the ones included in this&nbsp;deck:</p>

        <ul>
            <li class="slide" id="extensions-goto">
                <strong>deck.goto</strong>: Adds a shortcut key to jump to any slide number.  Hit g, type in the slide number, and hit&nbsp;enter.
            </li>

            <li class="slide" id="extensions-hash">
                <strong>deck.hash</strong>: Enables internal linking within slides, deep linking to individual slides, and updates the address bar &amp; a permalink anchor with each slide&nbsp;change.
            </li>

            <li class="slide" id="extensions-menu">
                <strong>deck.menu</strong>: Adds a menu view, letting you see all slides in a grid. Hit m to toggle to menu view, continue navigating your deck, and hit m to return to normal view. Touch devices can double-tap the deck to switch between&nbsp;views.
            </li>

            <li class="slide" id="extensions-navigation">
                <strong>deck.navigation</strong>: Adds clickable left and right buttons for the less keyboard&nbsp;inclined.
            </li>

            <li class="slide" id="extensions-status">
                <strong>deck.status</strong>: Adds a page number indicator. (current/total)
            </li>
        </ul>

        <p class="slide" id="extension-folders">Each extension folder in the download package contains the necessary JavaScript, CSS, and HTML&nbsp;files. For a complete list of extension modules included in deck.js, check out the&nbsp;<a href="http://imakewebthings.github.com/deck.js/docs">documentation</a>.</p>
    </section> -->

<!--     <section class="slide" id="nested">
        <h2>Nested Slides</h2>
        <p>That last slide had a few steps.  To create substeps in slides, just nest them:</p>
        <pre><code>&lt;section class=&quot;slide&quot;&gt;
  &lt;h2&gt;Extensions&lt;/h2&gt;
  &lt;p&gt;Core gives you basic slide functionality...&lt;/p&gt;        
  &lt;ul&gt;
     &lt;li class=&quot;slide&quot;&gt;
        &lt;h3&gt;deck.goto&lt;/h3&gt;
        &lt;p&gt;Adds a shortcut key to jump to any slide number...&lt;/p&gt;
     &lt;/li&gt;
     &lt;li class=&quot;slide&quot;&gt;...&lt;/li&gt;   
     &lt;li class=&quot;slide&quot;&gt;...&lt;/li&gt;
     &lt;li class=&quot;slide&quot;&gt;...&lt;/li&gt;
  &lt;/ul&gt;
&lt;/section&gt;</code></pre>
    </section> -->

<!--     <section class="slide" id="elements-images">
        <h2>Other Elements: Images</h2>
        <img src="http://placekitten.com/600/375" alt="Kitties">
        <pre><code>&lt;img src=&quot;http://placekitten.com/600/375&quot; alt=&quot;Kitties&quot;&gt;</code></pre>
    </section>

    <section class="slide" id="elements-blockquotes">
        <h2>Other Elements: Blockquotes</h2>
        <blockquote cite="http://example.org">
            <p>Food is an important part of a balanced diet.</p>
            <p><cite>Fran Lebowitz</cite></p>
        </blockquote>
        <pre><code>&lt;blockquote cite=&quot;http://example.org&quot;&gt;
  &lt;p&gt;Food is an important part of a balanced diet.&lt;/p&gt;
  &lt;p&gt;&lt;cite&gt;Fran Lebowitz&lt;/cite&gt;&lt;/p&gt;
&lt;/blockquote&gt;</code></pre>
    </section> -->


<!--     <section class="slide" id="elements-videos">
        <h2>Other Elements: Video Embeds</h2>
        <p>Embed videos using embed codes from your favorite online video service or with an HTML5 video&nbsp;element.</p>
        
        <iframe src="http://player.vimeo.com/video/1063136?title=0&amp;byline=0&amp;portrait=0" width="400" height="225" frameborder="0"></iframe>
        
        <pre><code>&lt;iframe src=&quot;http://player.vimeo.com/video/1063136?title=0&amp;amp;byline=0&amp;amp;portrait=0&quot; width=&quot;400&quot; height=&quot;225&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;</code></pre>
    </section> -->

<!--     <section class="slide" id="digging-deeper">
        <h2>Digging Deeper</h2>
        <p>If you want to learn about making your own themes, extending deck.js, and more, check out the&nbsp;<a href="../docs/">documentation</a>.</p>
    </section> -->

    <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
    <a href="#" class="deck-next-link" title="Next">&#8594;</a>

    <p class="deck-status">
        <span class="deck-status-current"></span>
        /
        <span class="deck-status-total"></span>
    </p>

    <form action="." method="get" class="goto-form">
        <label for="goto-slide">Go to slide:</label>
        <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
        <datalist id="goto-datalist"></datalist>
        <input type="submit" value="Go">
    </form>
    
    <a href="." title="Permalink to this slide" class="deck-permalink">#</a>
</article>

<footer>
    <p>This presentation was made with <a href="http://imakewebthings.github.com/deck.js">deck.js</a>, a project of <a href="http://imakewebthings.com">I Make Web Things</a></p>
</footer>



<!-- Grab CDN jQuery, with a protocol relative URL; fall back to local if offline -->
<script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
<script>window.jQuery || document.write('<script src="../includes/deck.js/jquery-1.7.min.js"><\/script>')</script>

<!-- Deck Core and extensions -->
<script src="../includes/deck.js/core/deck.core.js"></script>
<script src="../includes/deck.js/extensions/hash/deck.hash.js"></script>
<script src="../includes/deck.js/extensions/menu/deck.menu.js"></script>
<script src="../includes/deck.js/extensions/goto/deck.goto.js"></script>
<script src="../includes/deck.js/extensions/status/deck.status.js"></script>
<script src="../includes/deck.js/extensions/navigation/deck.navigation.js"></script>


<!-- Base codemiror code -->
<script src="../includes/deck.js/extensions/codemirror/codemirror.js"></script>

<!-- Syntax highlighting Modes -->
<!-- javascript -->
<script src="../includes/deck.js/extensions/codemirror/mode/javascript/javascript.js"></script>

<!-- html mode (note html mode requires xml, css and javascript) -->
<!-- <script src="../includes/deck.js/extensions/codemirror/mode/xml/xml.js"></script>
<script src="../includes/deck.js/extensions/codemirror/mode/css/css.js"></script>
<script src="../includes/deck.js/extensions/codemirror/mode/htmlmixed/htmlmixed.js"></script> -->

<!-- Plugin code -->
<script src="../includes/deck.js/extensions/codemirror/deck.codemirror.js"></script>

<!-- Specific to this page -->
<script src="dataservice.js"></script>

</body>
</html>